import{$ as J,A as ke,Aa as ce,Ba as pe,Ca as $,Da as T,E as O,Ea as qe,F as ae,Fa as Ve,G as A,Ga as je,H as p,Ha as Be,I as m,Ia as We,J as l,Ja as de,K as C,Ka as ue,L as se,La as Q,M as le,Ma as K,N as q,Na as me,O as w,Oa as Ue,P as S,Pa as ge,Q as Ae,Qa as G,R as Fe,Ra as Y,S as V,Sa as he,T as j,Ta as fe,U as B,Ua as X,V as y,W as F,Xa as ye,Y as Le,Ya as Z,Za as ee,_ as Te,_a as ve,a as c,aa as D,b as oe,ba as Ne,bb as Pe,ca as W,cb as _e,d as Me,e as Ie,eb as be,f as ne,g as De,h as re,i as Ee,j as xe,ja as Re,l as N,la as L,m as v,ma as H,n as R,o as U,p as d,q as P,qa as Oe,r as _,s as I,sa as z,u as x,v as k,w as b,y as u,z as h}from"./chunk-POWYDXOU.js";var Je=(()=>{let r=class r{constructor(t,i,n){this.store=t,this.route=i,this.poDialog=n,this.subscriptions=[],this.favoriteCharacters=[],this.actions=[{label:"Novo favorito",action:()=>{this.route.navigate(["/new-character"]).then()}}],this.columns=[{property:"name",label:"Nome"},{property:"gender",label:"G\xEAnero"},{property:"species",label:"Esp\xE9cie"},{property:"status",label:"Status"}],this.actionsTable=[{action:this.removeFavoriteCharacter.bind(this),icon:"po-icon po-icon-delete",label:"Remover"}]}ngOnInit(){this.getFavoriteCharacters()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getFavoriteCharacters(){let t=this.store.select("characters").subscribe(i=>{this.favoriteCharacters=i});this.subscriptions.push(t)}removeFavoriteCharacter(t){this.poDialog.confirm({title:"Confirma\xE7\xE3o",message:"Tem certeza que deseja deletar esse personagem dos seus favoritos?",confirm:()=>{this.store.dispatch(z({characterId:t.id}))}})}};r.\u0275fac=function(i){return new(i||r)(h(H),h(Re),h(me))},r.\u0275cmp=P({type:r,selectors:[["app-characters-managements"]],decls:2,vars:5,consts:[["p-title","Listagem de Personagens Favoritos",3,"p-actions"],[3,"p-items","p-columns","p-hide-table-search","p-actions"]],template:function(i,n){i&1&&(m(0,"po-page-default",0),C(1,"po-table",1),l()),i&2&&(p("p-actions",n.actions),u(),p("p-items",n.favoriteCharacters)("p-columns",n.columns)("p-hide-table-search",!1)("p-actions",n.actionsTable))},dependencies:[ye,ge]});let o=r;return o})();var He=(()=>{let r=class r{constructor(t,i,n,a){this.storeName=t,this.addItem=i,this.deleteItem=n,this.service=a,this.store=U(H),this.apiItemList=[],this.itemList=[],this.currentPage=1,this.loading=!1,this.subscriptions=[],this.addedList=[]}ngOnInit(){this.getFavoriteList(),this.getAll(1)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getFavoriteList(){let t=this.store.select(this.storeName).subscribe(i=>{this.itemList=i,this.checkAdded()});this.subscriptions.push(t)}getAll(t,i){this.loading=!0;let n=this.service.getAll(t,i).subscribe({next:a=>{this.apiItemList=this.apiItemList.concat(a.results),this.checkAdded(),this.loading=!1},error:a=>{this.loading=!1}});this.subscriptions.push(n)}checkAdded(){this.addedList=[],this.apiItemList.forEach((t,i)=>{this.addedList.push(!1),this.itemList.forEach(n=>{n.id==t.id&&(this.addedList[i]=!0)})})}fastSearch(t){this.cleanSearch(),this.advancedSearchParams={name:t},this.getAll(this.currentPage,this.advancedSearchParams)}advancedSearch(t){this.cleanSearch(),this.advancedSearchParams=t,this.getAll(this.currentPage,this.advancedSearchParams)}disclaimerSearch(t){this.cleanSearch();let i={};t.forEach(n=>{i[n.property]=n.value}),this.advancedSearchParams=i,this.getAll(this.currentPage,this.advancedSearchParams)}cleanSearch(){this.currentPage=1,this.apiItemList=[]}moreCharacter(){this.currentPage=this.currentPage+1,this.getAll(this.currentPage,this.advancedSearchParams)}addCharacter(t){this.store.dispatch(this.addItem(t))}deleteCharacter(t){this.store.dispatch(this.deleteItem(t))}};r.\u0275fac=function(i){ke()},r.\u0275dir=I({type:r});let o=r;return o})();var ze={api:"https://rickandmortyapi.com/api"};var $e=(()=>{let r=class r{constructor(){this.http=U(W)}getAll(t,i){let n=c({page:t},i);return this.http.get(this.microService,{params:n})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=I({type:r});let o=r;return o})();var Qe=(()=>{let r=class r extends $e{constructor(){super(),this.microService=ze.api+"/character"}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"});let o=r;return o})();function pt(){return navigator.language||navigator.userLanguage}function ie(o){return typeof o=="string"?(o=o.toLowerCase().trim(),o==="true"||o==="on"||o===""):typeof o=="number"?o===1:!!o}function dt(o,r){let e=parseInt(o,10),t=parseInt(r,10);return e||e===0?e:t||t===0?t:void 0}function ut(o){return`${o.charAt(0).toUpperCase()}${o.slice(1)}`}var Ge=function(o){return o.All="all",o.Email="email",o.SMS="sms",o}(Ge||{});var vo=Ge.Email;var Ye=function(o){return o.None="none",o.ExceededAttempts="exceededAttempts",o.ExpiredPassword="expiredPassword",o}(Ye||{}),Po=Ye.None;var mt={en:{errorRenderPage:"Error loading page",notPossibleLoadMetadataPage:"The page metadata could not be loaded"},es:{errorRenderPage:"Error al cargar la p\xE1gina",notPossibleLoadMetadataPage:"No se pudieron cargar los metadatos de la p\xE1gina."},pt:{errorRenderPage:"Erro ao carregar a p\xE1gina",notPossibleLoadMetadataPage:"N\xE3o foi poss\xEDvel carregar os metadados da p\xE1gina"},ru:{errorRenderPage:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",notPossibleLoadMetadataPage:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0442\u0430\u0434\u0430\u043D\u043D\u044B\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B"}},gt=(()=>{class o{http;notification;headers=new Ne({"X-PO-SCREEN-LOCK":"true"});endpoint="/";language;metadata;constructor(e,t,i){this.http=e,this.notification=t,this.language=i.getShortLanguage()}configServiceApi(e={}){this.endpoint=e.endpoint,this.metadata=e.metadata||this.metadata}getMetadata(e="list"){let t=`${this.endpoint}-${e}-metadata`,i=JSON.parse(localStorage.getItem(t))||{},a=`${this.metadata||`${this.endpoint}/metadata`}?type=${e}&version=${i.version||""}`;return this.http.get(a).pipe(re(s=>s.version!==void 0&&s.version===i.version?i:(localStorage.setItem(t,JSON.stringify(s)),c(c({},i),s))),xe(s=>{if(Object.keys(i).length)return ne(i);let{errorRenderPage:f,notPossibleLoadMetadataPage:E}=mt[this.language];return this.notification.warning(E),Ee(ne({title:f}),De(s))}))}deleteResource(e,t){let i=this.getLocalEndPoint(t,!0),n=e?`${i}/${e}`:i;return this.http.delete(n,{headers:this.headers})}deleteResources(e,t){return this.http.request("delete",`${this.getLocalEndPoint(t)}`,{headers:this.headers,body:e})}getResources(e,t){return this.http.get(this.getLocalEndPoint(t),{headers:this.headers,params:e})}getResource(e,t){return this.http.get(`${this.getLocalEndPoint(t,!0)}/${e}`,{headers:this.headers})}createResource(e,t){return this.http.post(`${this.getLocalEndPoint(t)}`,e,{headers:this.headers})}updateResource(e,t,i){return this.http.put(`${this.getLocalEndPoint(i,!0)}/${e}`,t,{headers:this.headers})}getLocalEndPoint(e,t=!1){return e=e??this.endpoint,t&&(e=e==="/"?"":e),e}static \u0275fac=function(t){return new(t||o)(R(W),R(Ue),R(T))};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Xe=(()=>{class o{http;constructor(e){this.http=e}getCustomOptions(e,t,i){return this.createObservable(e).pipe(re(n=>this.mergePageOptions(t,n,i)))}changeOriginalOptionsToNewOptions(e,t){Object.keys(t).forEach(i=>{let n=t[i];if(i in e){if(Array.isArray(n)){e[i]=[...n];return}if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"){e[i]=n;return}n!==null&&typeof n=="object"&&(e[i]=c({},n))}})}createObservable(e){return typeof e=="string"?this.http.post(e,{}):Ie(Promise.resolve(e()))}mergePageOptions(e,t,i){let n=i.schema.reduce((a,s)=>oe(c({},a),{[s.nameProp]:this.createNewProp(s,e,t)}),{});return Object.keys(n).forEach(a=>n[a]===void 0&&delete n[a]),n}createNewProp(e,t,i){return e.merge?this.mergeOptions(t[e.nameProp],i[e.nameProp],e.keyForMerge):i[e.nameProp]??t[e.nameProp]}mergeOptions(e,t,i){if(!(!e&&!t))return t?e?e instanceof Array&&t instanceof Array?this.mergeOptionsArray(e,t,i):c(c({},e),t):t:e}mergeOptionsArray(e,t,i){let n=t.filter(s=>!e.find(f=>f[i]===s[i]));return[...e.map(s=>{let f=t.find(E=>s[i]===E[i])||s;return c(c({},s),f)}),...n]}static \u0275fac=function(t){return new(t||o)(R(W))};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ht=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=_({type:o});static \u0275inj=v({providers:[gt],imports:[D]})}return o})();var Ze=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=_({type:o});static \u0275inj=v({providers:[Xe],imports:[D]})}return o})(),g={en:{title:"Advanced search",cancelLabel:"Cancel",confirmLabel:"Apply filters"},es:{title:"B\xFAsqueda avanzada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},pt:{title:"Busca avan\xE7ada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},ru:{title:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",cancelLabel:"\u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",confirmLabel:"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"}},ft=(()=>{class o{poModal;keepFilters=!1;searchEvent=new b;filter={};language=$;primaryAction={action:()=>{let e=this.getValuesFromForm();this.searchEvent.emit(e),this.poModal.close()},label:this.literals.confirmLabel};secondaryAction={action:()=>{this.poModal.close()},label:this.literals.cancelLabel};optionsServiceChosenOptions=[];_filters=[];_literals;set filters(e){this._filters=Array.isArray(e)?[...e]:[]}get filters(){return this._filters}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=c(c(c({},g[$]),g[this.language]),e):this._literals=g[this.language],this.primaryAction.label=this.literals.confirmLabel,this.secondaryAction.label=this.literals.cancelLabel}get literals(){return this._literals||g[this.language]}constructor(e){this.language=e.getShortLanguage()}getValuesFromForm(){let e;return Object.keys(this.filter).forEach(t=>{(this.filter[t]===void 0||this.filter[t]==="")&&delete this.filter[t]}),this.optionsServiceChosenOptions.length&&(e=this.optionsServiceChosenOptions.filter(t=>Object.values(this.filter).includes(t.value))),{filter:this.filter,optionsService:e}}static \u0275fac=function(t){return new(t||o)(h(T))};static \u0275dir=I({type:o,viewQuery:function(t,i){if(t&1&&V(Q,7),t&2){let n;j(n=B())&&(i.poModal=n.first)}},inputs:{keepFilters:[d.HasDecoratorInputTransform,"p-keep-filters","keepFilters",ie],filters:[d.None,"p-filters","filters"],literals:[d.None,"p-literals","literals"]},outputs:{searchEvent:"p-search-event"},features:[ae]})}return o})(),Ke=(()=>{class o extends ft{poDynamicForm;subscription=new Me;constructor(e){super(e)}ngOnInit(){this.optionsServiceSubscribe()}ngOnDestroy(){this.subscription.unsubscribe()}open(){this.filter=this.keepFilters?this.getInitialValuesFromFilter(this.filters):{},this.poModal.open()}getOptionsServiceItem(e){this.optionsServiceChosenOptions.map(i=>i.value).indexOf(e.value)===-1&&(this.optionsServiceChosenOptions=[...this.optionsServiceChosenOptions,e])}getInitialValuesFromFilter(e){return e.reduce((t,i)=>Object.assign(t,{[i.property]:i.initValue}),{})}optionsServiceSubscribe(){this.subscription.add(this.poDynamicForm.getObjectValue().subscribe(e=>{e&&this.getOptionsServiceItem(e)}))}static \u0275fac=function(t){return new(t||o)(h(T))};static \u0275cmp=P({type:o,selectors:[["po-advanced-filter"]],viewQuery:function(t,i){if(t&1&&V(G,7),t&2){let n;j(n=B())&&(i.poDynamicForm=n.first)}},features:[O],decls:2,vars:5,consts:[["p-hide-close","",3,"p-primary-action","p-secondary-action","p-title"],[3,"p-fields","p-value"]],template:function(t,i){t&1&&(m(0,"po-modal",0),C(1,"po-dynamic-form",1),l()),t&2&&(p("p-primary-action",i.primaryAction)("p-secondary-action",i.secondaryAction)("p-title",i.literals.title),u(),p("p-fields",i.filters)("p-value",i.filter))},dependencies:[G,Q],encapsulation:2})}return o})(),te={en:{disclaimerGroupTitle:"Displaying results filtered by:",filterTitle:g.en.title,filterCancelLabel:g.en.cancelLabel,filterConfirmLabel:g.en.confirmLabel,quickSearchLabel:"Quick search:",searchPlaceholder:"Search"},es:{disclaimerGroupTitle:"Presentando resultados filtrados por:",filterTitle:g.es.title,filterCancelLabel:g.es.cancelLabel,filterConfirmLabel:g.es.confirmLabel,quickSearchLabel:"B\xFAsqueda r\xE1pida:",searchPlaceholder:"Buscar"},pt:{disclaimerGroupTitle:"Apresentando resultados filtrados por:",filterTitle:g.pt.title,filterCancelLabel:g.pt.cancelLabel,filterConfirmLabel:g.pt.confirmLabel,quickSearchLabel:"Pesquisa r\xE1pida:",searchPlaceholder:"Pesquisar"},ru:{disclaimerGroupTitle:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432, \u043E\u0442\u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043F\u043E:",filterTitle:g.ru.title,filterCancelLabel:g.ru.cancelLabel,filterConfirmLabel:g.ru.confirmLabel,quickSearchLabel:"\u0411\u044B\u0441\u0442\u0440\u044B\u0439 \u043F\u043E\u0438\u0441\u043A:",searchPlaceholder:"\u0438\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u0435"}},yt=(()=>{class o{actions=[];breadcrumb={items:[]};keepFilters=!1;concatFilters=!1;hideRemoveAllDisclaimer=!1;onLoad;title;quickSearchValue;advancedSearch=new b;changeDisclaimers=new b;quickSearch=new b;advancedFilterLiterals;_filters=[];_hideCloseDisclaimers=[];_literals;_quickSearchWidth;previousFilters;language;set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=c(c(c({},te[$]),te[this.language]),e):this._literals=te[this.language],this.setAdvancedFilterLiterals(this.literals)}get literals(){return this._literals||te[this.language]}set filters(e){this._filters=Array.isArray(e)?[...e]:[],this.stringify(this._filters)!==this.stringify(this.previousFilters)&&(this.onChangeFilters(this.filters),this.previousFilters=[...this._filters])}get filters(){return this._filters}set quickSearchWidth(e){this._quickSearchWidth=dt(e)}get quickSearchWidth(){return this._quickSearchWidth}set hideCloseDisclaimers(e){this._hideCloseDisclaimers=Array.isArray(e)?e:[]}get hideCloseDisclaimers(){return this._hideCloseDisclaimers}constructor(e){this.language=e.getShortLanguage()}setAdvancedFilterLiterals(e){this.advancedFilterLiterals={cancelLabel:e.filterCancelLabel,confirmLabel:e.filterConfirmLabel,title:e.filterTitle}}stringify(e){return JSON.stringify(e,(t,i)=>{if(t!=="searchService")return i})}static \u0275fac=function(t){return new(t||o)(h(T))};static \u0275dir=I({type:o,inputs:{actions:[d.None,"p-actions","actions"],breadcrumb:[d.None,"p-breadcrumb","breadcrumb"],keepFilters:[d.HasDecoratorInputTransform,"p-keep-filters","keepFilters",ie],concatFilters:[d.HasDecoratorInputTransform,"p-concat-filters","concatFilters",ie],hideRemoveAllDisclaimer:[d.HasDecoratorInputTransform,"p-hide-remove-all-disclaimer","hideRemoveAllDisclaimer",ie],onLoad:[d.None,"p-load","onLoad"],title:[d.None,"p-title","title"],quickSearchValue:[d.None,"p-quick-search-value","quickSearchValue"],literals:[d.None,"p-literals","literals"],filters:[d.None,"p-filters","filters"],quickSearchWidth:[d.None,"p-quick-search-width","quickSearchWidth"],hideCloseDisclaimers:[d.None,"p-hide-close-disclaimers","hideCloseDisclaimers"]},outputs:{advancedSearch:"p-advanced-search",changeDisclaimers:"p-change-disclaimers",quickSearch:"p-quick-search"},features:[ae]})}return o})(),vt=["*"],et=(()=>{class o extends yt{languageService;poPageCustomizationService;changeDetector;poAdvancedFilter;poPageList;loadSubscription;_disclaimerGroup={remove:this.onRemoveDisclaimer.bind(this),removeAll:this.onRemoveAllDisclaimers.bind(this),disclaimers:[],title:this.literals.disclaimerGroupTitle,hideRemoveAll:this.hideRemoveAllDisclaimer};_filterSettings={action:this.onAction.bind(this),advancedAction:this.onAdvancedAction.bind(this),placeholder:this.literals.searchPlaceholder,width:this.quickSearchWidth};constructor(e,t,i){super(e),this.languageService=e,this.poPageCustomizationService=t,this.changeDetector=i}get disclaimerGroup(){return Object.assign({},this._disclaimerGroup,{title:this.literals.disclaimerGroupTitle,hideRemoveAll:this.hideRemoveAllDisclaimer})}get filterSettings(){let e=this.filters.length>0&&this.filters.some(t=>t.visible===!0||t.visible===void 0);return this._filterSettings.advancedAction=e?this.onAdvancedAction.bind(this):void 0,Object.assign({},this._filterSettings,{placeholder:this.literals.searchPlaceholder,width:this.quickSearchWidth})}ngOnInit(){this.setAdvancedFilterLiterals(this.literals),this.onLoad&&this.loadOptionsOnInitialize(this.onLoad),this.quickSearchValue&&this.onAction(this.quickSearchValue,!0)}ngOnDestroy(){this.loadSubscription&&this.loadSubscription.unsubscribe()}onChangeFilters(e){let t=e.filter(i=>i.initValue).reduce((i,n)=>oe(c({},i),{[n.property]:n.initValue}),{});Object.keys(t).length&&this.onAdvancedSearch({filter:t})}onAction(e,t){let i={property:"search",label:`${this.literals.quickSearchLabel} ${e}`,value:e,hideClose:this.hideCloseDisclaimers.some(a=>a==="search")||!1},n=()=>[...this.getDisclaimersWithoutQuickSearch(),i];this._disclaimerGroup.disclaimers=this.concatFilters?n():[i],this.quickSearch.observers&&this.quickSearch.observers.length>0&&!t&&this.quickSearch.emit(e),this.keepFilters&&!this.concatFilters&&this.filters.forEach(a=>delete a.initValue),this.changeDetector.detectChanges()}onAdvancedAction(){this.poAdvancedFilter.open()}onAdvancedSearch(e,t){let{filter:i,optionsService:n}=e;this._disclaimerGroup.disclaimers=this.setDisclaimers(i,n),this.setFilters(i),this.advancedSearch.emit(i),t&&this.poPageList.clearInputSearch()}getDisclaimersWithoutQuickSearch(){let e="search";return this._disclaimerGroup.disclaimers.filter(t=>t.property!==e)}setFilters(e){let t=this.convertToFilters(e);this.filters.forEach(i=>{let n=t.find(a=>a.property===i.property);n?i.initValue=n.value:delete i.initValue})}convertToFilters(e){return Object.entries(e).map(([t,i])=>({property:t,value:i}))}optionsServiceDisclaimerLabel(e,t){let i=t.find(n=>n.value===e);return i.label||i.value}applyDisclaimerLabelValue(e,t){return(Array.isArray(t)?t:[t]).map(a=>{let s=e.options.find(f=>f.value===a||f===a);if(s)return s.label||s.value||s}).join(", ")}formatDate(e){let t=parseInt(e.substr(0,4),10),i=parseInt(e.substr(5,2),10),n=parseInt(e.substr(8,2),10);return new Date(t,i-1,n).toLocaleDateString(pt())}formatArrayToObjectKeyValue(e){let t=e.reduce((i,n)=>Object.assign(i,{[n.property]:n.value||n.initValue}),{});return Object.keys(t).forEach(i=>{t[i]||delete t[i]}),t}formatValueToCurrency(e,t){let i=this.languageService.getLanguage();return new Intl.NumberFormat(e.locale?e.locale:i,{minimumFractionDigits:2}).format(t)}getFieldByProperty(e,t){return e.find(i=>i.property===t)}getFilterValueToDisclaimer(e,t,i){return e.optionsService&&i?this.optionsServiceDisclaimerLabel(t,i):e.type===fe.Currency&&t?this.formatValueToCurrency(e,t):e.type===fe.Date?e.range?this.formatDate(t.start)+" - "+this.formatDate(t.end):this.formatDate(t):e.options&&t?this.applyDisclaimerLabelValue(e,t):t}onRemoveDisclaimer(e){let{currentDisclaimers:t}=e;this.emitChangesDisclaimers(t)}emitChangesDisclaimers(e){this.changeDisclaimers.emit(e),this.setFilters(this.formatArrayToObjectKeyValue(e))}onRemoveAllDisclaimers(){this.emitChangesDisclaimers([])}setDisclaimers(e,t){let i=[];return Object.keys(e).forEach(a=>{let s=this.getFieldByProperty(this.filters,a),f=s.label||ut(s.property),E=e[a],rt=this.hideCloseDisclaimers.some(at=>at===a)||!1,Se=this.getFilterValueToDisclaimer(s,E,t);Se!==""&&i.push({label:`${f}: ${Se}`,property:a,value:E,hideClose:rt})}),i}loadOptionsOnInitialize(e){this.loadSubscription=this.getPoDynamicPageOptions(e).subscribe(t=>this.poPageCustomizationService.changeOriginalOptionsToNewOptions(this,t))}getPoDynamicPageOptions(e){let t={title:this.title,actions:this.actions,breadcrumb:this.breadcrumb,filters:this.filters,keepFilters:this.keepFilters,concatFilters:this.concatFilters,hideRemoveAllDisclaimer:this.hideRemoveAllDisclaimer,hideCloseDisclaimers:this.hideCloseDisclaimers,quickSearchWidth:this.quickSearchWidth},i={schema:[{nameProp:"filters",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0,keyForMerge:"label"},{nameProp:"breadcrumb"},{nameProp:"title"},{nameProp:"keepFilters"},{nameProp:"concatFilters"},{nameProp:"hideRemoveAllDisclaimer"},{nameProp:"hideCloseDisclaimers"},{nameProp:"quickSearchWidth"}]};return this.poPageCustomizationService.getCustomOptions(e,t,i)}static \u0275fac=function(t){return new(t||o)(h(T),h(Xe),h(Le))};static \u0275cmp=P({type:o,selectors:[["po-page-dynamic-search"]],viewQuery:function(t,i){if(t&1&&(V(Ke,7),V(Z,7)),t&2){let n;j(n=B())&&(i.poAdvancedFilter=n.first),j(n=B())&&(i.poPageList=n.first)}},features:[O],ngContentSelectors:vt,decls:4,vars:9,consts:[[3,"p-actions","p-breadcrumb","p-disclaimer-group","p-filter","p-title","p-quick-search-value"],["poPageList",""],[3,"p-filters","p-keep-filters","p-literals","p-search-event"]],template:function(t,i){t&1&&(Ae(),m(0,"po-page-list",0,1)(2,"po-advanced-filter",2),w("p-search-event",function(a){return i.onAdvancedSearch(a,!0)}),l(),Fe(3),l()),t&2&&(p("p-actions",i.actions)("p-breadcrumb",i.breadcrumb)("p-disclaimer-group",i.disclaimerGroup)("p-filter",i.filterSettings)("p-title",i.title)("p-quick-search-value",i.quickSearchValue),u(2),p("p-filters",i.filters)("p-keep-filters",i.keepFilters)("p-literals",i.advancedFilterLiterals))},dependencies:[Z,Ke],encapsulation:2})}return o})(),we=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=_({type:o});static \u0275inj=v({imports:[D,ce,L,X,qe,K,ee,Ze]})}return o})();var tt=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=_({type:o});static \u0275inj=v({imports:[D,ce,L,Y,we,Ze,ht]})}return o})();function bt(o,r){if(o&1){let e=q();se(0),m(1,"po-widget",1),w("p-primary-action",function(){x(e);let i=S();return k(i.buttonAction())}),C(2,"po-avatar",2),m(3,"div",3)(4,"p")(5,"strong"),y(6,"Nome:"),l(),y(7),l(),m(8,"p")(9,"strong"),y(10,"G\xEAnero:"),l(),y(11),l(),m(12,"p")(13,"strong"),y(14,"Esp\xE9cie:"),l(),y(15),l(),m(16,"p")(17,"strong"),y(18,"Status:"),l(),y(19),l()()(),le()}if(o&2){let e=S();u(),p("p-primary",e.added)("p-primary-label",e.added?"Remover":"Adicionar"),u(),p("p-src",e.character.image),u(5),F(" ",e.character.name,""),u(4),F(" ",e.character.gender,""),u(4),F(" ",e.character.species,""),u(4),F(" ",e.character.status,"")}}var it=(()=>{let r=class r{constructor(){this.added=!1,this.deleteAction=new b,this.addAction=new b}buttonAction(){this.added&&this.character?this.deleteAction.emit(this.character.id):this.addAction.emit(this.character)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=P({type:r,selectors:[["app-character-card"]],inputs:{character:"character",added:"added"},outputs:{deleteAction:"deleteAction",addAction:"addAction"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"po-row",3,"p-primary-action","p-primary","p-primary-label"],["p-size","lg",1,"po-md-4","po-sm-8",3,"p-src"],[1,"po-md-8","po-sm-8"]],template:function(i,n){i&1&&A(0,bt,20,7,"ng-container",0),i&2&&p("ngIf",n.character)},dependencies:[J,Pe,Ve]});let o=r;return o})();function wt(o,r){if(o&1){let e=q();m(0,"div",6)(1,"app-character-card",7),w("addAction",function(i){x(e);let n=S();return k(n.addCharacter({character:i}))})("deleteAction",function(i){x(e);let n=S();return k(n.deleteCharacter({characterId:i}))}),l()()}if(o&2){let e=r.$implicit,t=r.index,i=S();u(),p("character",e)("added",i.addedList[t])}}function St(o,r){o&1&&C(0,"po-loading-overlay")}var ot=(()=>{let r=class r extends He{constructor(t){super("characters",Oe,z,t),this.characterService=t,this.breadcrumb={items:[{label:"Personagens",link:"/"},{label:"Adicionar Personagem Favorito"}]},this.customLiterals={quickSearchLabel:"Nome:"},this.advancedSearchList=[{property:"name",label:"Nome",gridColumns:6},{property:"gender",label:"G\xEAnero",gridColumns:6,forceOptionsComponentType:be.select,options:[{label:"Feminino",value:"Female"},{label:"Masculino",value:"Male"},{label:"Sem g\xEAnero",value:"Genderless"},{label:"Desconhecido",value:"unknown"}]},{property:"Esp\xE9cie",label:"species",gridColumns:6},{property:"status",label:"Status",gridColumns:6,forceOptionsComponentType:be.select,options:[{label:"Vivo",value:"Alive"},{label:"Morto",value:"Dead"},{label:"Desconhecido",value:"unknown"}]}]}};r.\u0275fac=function(i){return new(i||r)(h(Qe))},r.\u0275cmp=P({type:r,selectors:[["app-new-characters"]],features:[O],decls:6,vars:5,consts:[["p-title","Adicionar Personagem Favorito",3,"p-quick-search","p-advanced-search","p-change-disclaimers","p-breadcrumb","p-filters","p-literals"],[1,"po-row"],["class","po-lg-6 po-md-6 po-sm-12 po-mb-3",4,"ngFor","ngForOf"],[1,"po-d-flex","po-justify-center","po-mb-3"],["p-label","Carregar mais resultados",1,"po-md-3",3,"p-click"],[4,"ngIf"],[1,"po-lg-6","po-md-6","po-sm-12","po-mb-3"],[3,"addAction","deleteAction","character","added"]],template:function(i,n){i&1&&(m(0,"po-page-dynamic-search",0),w("p-quick-search",function(s){return n.fastSearch(s)})("p-advanced-search",function(s){return n.advancedSearch(s)})("p-change-disclaimers",function(s){return n.disclaimerSearch(s)}),m(1,"div",1),A(2,wt,2,2,"div",2),l(),m(3,"div",3)(4,"po-button",4),w("p-click",function(){return n.moreCharacter()}),l()()(),A(5,St,1,0,"po-loading-overlay",5)),i&2&&(p("p-breadcrumb",n.breadcrumb)("p-filters",n.advancedSearchList)("p-literals",n.customLiterals),u(2),p("ngForOf",n.apiItemList),u(3),p("ngIf",n.loading))},dependencies:[Te,J,Be,et,de,it]});let o=r;return o})();var Mt=[{path:"",component:Je},{path:"new-character",component:ot}],nt=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=_({type:r}),r.\u0275inj=v({imports:[L.forChild(Mt),L]});let o=r;return o})();var Uo=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=_({type:r}),r.\u0275inj=v({imports:[D,nt,ee,tt,K,X,Y,We,ve,he,pe,we,_e,je,ue]});let o=r;return o})();export{Uo as CharactersModule};
